(function(){app.modals.ChangePasswordModal=function(){var i=abp.services.app.profile,r=new app.PasswordComplexityHelper,n,t=null;this.init=function(u){n=u;i.getPasswordComplexitySetting().done(function(i){t=n.getModal().find("form[name=ChangePasswordModalForm]");t.validate({errorElement:"span",errorClass:"help-block text-danger",errorPlacement:function(n,t){t.closest(".input-icon").size()===1?n.insertAfter(t.closest(".input-icon")):n.insertAfter(t.parent())}});r.setPasswordComplexityRules(t.find("input[name=NewPassword]"),i.setting)})};this.save=function(){t.valid()&&(n.setBusy(!0),i.changePassword(t.serializeFormToObject()).done(function(){abp.notify.info(app.localize("YourPasswordHasChangedSuccessfully"));n.close()}).always(function(){n.setBusy(!1)}))}}})(jQuery);