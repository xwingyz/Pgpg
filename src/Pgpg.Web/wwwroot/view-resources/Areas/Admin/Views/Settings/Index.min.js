(function(){$(function(){function f(){$("#Setting_AllowSelfRegistration").is(":checked")?u.slideDown("fast"):u.slideUp("fast")}function e(){$("#Settings_SmtpUseDefaultCredentials").is(":checked")?n.slideUp("fast"):n.slideDown("fast")}function o(){$("#Setting_LdapIsEnabled").is(":checked")?t.slideDown("fast"):t.slideUp("fast")}function s(){$("#Setting_UserLockOut_IsEnabled").is(":checked")?i.slideDown("fast"):i.slideUp("fast")}function h(){$("#Setting_TwoFactorLogin_IsEnabled").is(":checked")?r.slideDown("fast"):r.slideUp("fast")}function v(){var n=$("#DefaultPasswordComplexitySettingsForm input:disabled"),t;return n.removeAttr("disabled"),t=$("#DefaultPasswordComplexitySettingsForm").serializeFormToObject(),n.attr("disabled","disabled"),t}var c=abp.services.app.tenantSettings,l=$("#GeneralSettingsForm [name=Timezone]").val(),a=$("#GeneralSettingsForm [name=TimezoneForComparison]").val()===abp.setting.values["Abp.Timing.TimeZone"],u=$("#FormBasedRegistrationSettingsForm").find("input[name=IsNewRegisteredUserActiveByDefault],input[name=UseCaptchaOnRegistration]").closest(".md-checkbox"),n,t,i,r;$("#Setting_AllowSelfRegistration").change(function(){f()});f();n=$("#EmailSmtpSettingsForm").find("input[name=SmtpDomain],input[name=SmtpUserName],input[name=SmtpPassword]").closest(".form-group");$("#Settings_SmtpUseDefaultCredentials").change(function(){e()});e();t=$("#LdapSettingsForm").find("input[name=Domain],input[name=UserName],input[name=Password]").closest(".form-group");o();$("#Setting_LdapIsEnabled").change(function(){o()});i=$("#UserLockOutSettingsForm").find("input").not("#Setting_UserLockOut_IsEnabled").closest(".form-group");s();$("#Setting_UserLockOut_IsEnabled").change(function(){s()});r=$("#TwoFactorLoginSettingsForm").find("input").not("#Setting_TwoFactorLogin_IsEnabled").closest(".md-checkbox");h();$("#Setting_TwoFactorLogin_IsEnabled").change(function(){h()});$("#Setting_PasswordComplexity_UseDefaultSettings").change(function(){$("#Setting_PasswordComplexity_UseDefaultSettings").is(":checked")?($("#DefaultPasswordComplexitySettingsForm").show(),$("#PasswordComplexitySettingsForm").hide()):($("#DefaultPasswordComplexitySettingsForm").hide(),$("#PasswordComplexitySettingsForm").show())});$("#SaveAllSettingsButton").click(function(){c.updateAllSettings({general:$("#GeneralSettingsForm").serializeFormToObject(),userManagement:$.extend($("#FormBasedRegistrationSettingsForm").serializeFormToObject(),$("#OtherSettingsForm").serializeFormToObject()),email:$("#EmailSmtpSettingsForm").serializeFormToObject(),ldap:$("#LdapSettingsForm").serializeFormToObject(),security:{useDefaultPasswordComplexitySettings:$("#Setting_PasswordComplexity_UseDefaultSettings").is(":checked"),passwordComplexity:$("#PasswordComplexitySettingsForm").serializeFormToObject(),defaultPasswordComplexity:v(),userLockOut:$("#UserLockOutSettingsForm").serializeFormToObject(),twoFactorLogin:$("#TwoFactorLoginSettingsForm").serializeFormToObject()}}).done(function(){abp.notify.info(app.localize("SavedSuccessfully"));var n=$("#GeneralSettingsForm [name=Timezone]").val();abp.clock.provider.supportsMultipleTimezone&&a&&l!==n&&abp.message.info(app.localize("TimeZoneSettingChangedRefreshPageNotification")).done(function(){window.location.reload()})})})})})();